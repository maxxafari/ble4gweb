import{s as te,n as G}from"../chunks/scheduler.b0c1c2c3.js";import{S as le,i as ne,g as _,m as T,s as x,h as u,j as m,n as A,f as d,c as y,y as B,k as F,a as ee,A as l,D as Q,C as ae,o as se,E as oe}from"../chunks/index.00179a67.js";import{e as W,P as re}from"../chunks/simplepeer.min.88c063de.js";const ie=!1,ce=!0,pe=Object.freeze(Object.defineProperty({__proto__:null,prerender:ce,ssr:ie},Symbol.toStringTag,{value:"Module"}));function Y(i,e,r){const c=i.slice();return c[6]=e[r],c}function Z(i){let e,r=i[6]+"",c;return{c(){e=_("li"),c=T(r)},l(a){e=u(a,"LI",{});var f=m(e);c=A(f,r),f.forEach(d)},m(a,f){ee(a,e,f),l(e,c)},p:G,d(a){a&&d(e)}}}function fe(i){let e,r,c,a=i[2]?"true":"false",f,S,g,j="signal",w,C,h,q,p,b,K="Incomping",H,v,L,R,V,E,I,M="data",J,N,$,U,O=W(i[3]),s=[];for(let n=0;n<O.length;n+=1)s[n]=Z(Y(i,O,n));return{c(){e=_("div"),r=_("p"),c=T("initiator: "),f=T(a),S=x(),g=_("h4"),g.textContent=j,w=x(),C=_("pre"),h=T(i[1]),q=x(),p=_("div"),b=_("h4"),b.textContent=K,H=x(),v=_("textarea"),L=x(),R=_("br"),V=x(),E=_("div"),I=_("h3"),I.textContent=M,J=x(),N=_("ul");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){e=u(n,"DIV",{});var o=m(e);r=u(o,"P",{});var t=m(r);c=A(t,"initiator: "),f=A(t,a),t.forEach(d),S=y(o),g=u(o,"H4",{"data-svelte-h":!0}),B(g)!=="svelte-pgf2ie"&&(g.textContent=j),w=y(o),C=u(o,"PRE",{});var P=m(C);h=A(P,i[1]),P.forEach(d),q=y(o),p=u(o,"DIV",{});var k=m(p);b=u(k,"H4",{"data-svelte-h":!0}),B(b)!=="svelte-bhljpq"&&(b.textContent=K),H=y(k),v=u(k,"TEXTAREA",{id:!0,class:!0}),m(v).forEach(d),L=y(k),R=u(k,"BR",{}),k.forEach(d),V=y(o),E=u(o,"DIV",{});var D=m(E);I=u(D,"H3",{"data-svelte-h":!0}),B(I)!=="svelte-1fkupqc"&&(I.textContent=M),J=y(D),N=u(D,"UL",{});var X=m(N);for(let z=0;z<s.length;z+=1)s[z].l(X);X.forEach(d),D.forEach(d),o.forEach(d),this.h()},h(){F(v,"id","incoming"),F(v,"class","svelte-17de7ug")},m(n,o){ee(n,e,o),l(e,r),l(r,c),l(r,f),l(e,S),l(e,g),l(e,w),l(e,C),l(C,h),l(e,q),l(e,p),l(p,b),l(p,H),l(p,v),Q(v,i[0]),l(p,L),l(p,R),l(e,V),l(e,E),l(E,I),l(E,J),l(E,N);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(N,null);$||(U=ae(v,"input",i[4]),$=!0)},p(n,[o]){if(o&2&&se(h,n[1]),o&1&&Q(v,n[0]),o&8){O=W(n[3]);let t;for(t=0;t<O.length;t+=1){const P=Y(n,O,t);s[t]?s[t].p(P,o):(s[t]=Z(P),s[t].c(),s[t].m(N,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=O.length}},i:G,o:G,d(n){n&&d(e),oe(s,n),$=!1,U()}}}function he(i,e,r){let c=location.hash==="#1",a=null;onload=async()=>{const C=await(await fetch("https://maxxafari.metered.live/api/v1/turn/credentials?apiKey=3aea09a742976f93e50ffe3a1c7a287fc050")).json();a=new re({initiator:c,trickle:!1,config:{iceServers:C}}),a.on("error",h=>console.log("error",h)),a.on("signal",h=>{console.log("SIGNAL",JSON.stringify(h)),r(1,S=JSON.stringify(h))}),a.on("connect",()=>{console.log("CONNECT"),a==null||a.send("whatever"+new Date().toISOString)}),a.on("data",h=>{console.log("CONNECT"),h.push(h)})};let f="",S="",g=[];function j(){f=this.value,r(0,f)}return[f,S,c,g,j]}class ve extends le{constructor(e){super(),ne(this,e,he,fe,te,{})}}export{ve as component,pe as universal};

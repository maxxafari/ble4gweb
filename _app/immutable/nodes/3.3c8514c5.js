import{s as Ut,n as Nt,r as qt}from"../chunks/scheduler.b0c1c2c3.js";import{S as Wt,i as Ht,g as it,m as Ot,s as gt,h as ot,j as _t,n as Lt,f as ct,c as yt,y as At,k as xt,a as jt,A as Z,D as It,C as Dt,o as Yt,E as Vt}from"../chunks/index.00179a67.js";function Mt(K){return(K==null?void 0:K.length)!==void 0?K:Array.from(K)}const zt=!1,Gt=!0,ee=Object.freeze(Object.defineProperty({__proto__:null,prerender:Gt,ssr:zt},Symbol.toStringTag,{value:"Module"}));var ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kt(K){return K&&K.__esModule&&Object.prototype.hasOwnProperty.call(K,"default")?K.default:K}function kt(K){throw new Error('Could not dynamically require "'+K+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Bt={exports:{}};(function(K,$){(function(Q){K.exports=Q()})(function(){var Q=Math.floor,et=Math.abs,z=Math.pow;return function(){function T(D,w,h){function S(l,d){if(!w[l]){if(!D[l]){var s=typeof kt=="function"&&kt;if(!d&&s)return s(l,!0);if(L)return L(l,!0);var g=new Error("Cannot find module '"+l+"'");throw g.code="MODULE_NOT_FOUND",g}var k=w[l]={exports:{}};D[l][0].call(k.exports,function(E){var O=D[l][1][E];return S(O||E)},k,k.exports,T,D,w,h)}return w[l].exports}for(var L=typeof kt=="function"&&kt,n=0;n<h.length;n++)S(h[n]);return S}return T}()({1:[function(T,D,w){function h(a){var u=a.length;if(0<u%4)throw new Error("Invalid string. Length must be a multiple of 4");var b=a.indexOf("=");b===-1&&(b=u);var f=b===u?0:4-b%4;return[b,f]}function S(a,u,b){return 3*(u+b)/4-b}function L(a){var u,b,f=h(a),m=f[0],A=f[1],p=new k(S(a,m,A)),y=0,N=0<A?m-4:m;for(b=0;b<N;b+=4)u=g[a.charCodeAt(b)]<<18|g[a.charCodeAt(b+1)]<<12|g[a.charCodeAt(b+2)]<<6|g[a.charCodeAt(b+3)],p[y++]=255&u>>16,p[y++]=255&u>>8,p[y++]=255&u;return A===2&&(u=g[a.charCodeAt(b)]<<2|g[a.charCodeAt(b+1)]>>4,p[y++]=255&u),A===1&&(u=g[a.charCodeAt(b)]<<10|g[a.charCodeAt(b+1)]<<4|g[a.charCodeAt(b+2)]>>2,p[y++]=255&u>>8,p[y++]=255&u),p}function n(a){return s[63&a>>18]+s[63&a>>12]+s[63&a>>6]+s[63&a]}function l(a,u,b){for(var f,m=[],A=u;A<b;A+=3)f=(16711680&a[A]<<16)+(65280&a[A+1]<<8)+(255&a[A+2]),m.push(n(f));return m.join("")}function d(a){for(var u,b=a.length,f=b%3,m=[],A=16383,p=0,y=b-f;p<y;p+=A)m.push(l(a,p,p+A>y?y:p+A));return f===1?(u=a[b-1],m.push(s[u>>2]+s[63&u<<4]+"==")):f===2&&(u=(a[b-2]<<8)+a[b-1],m.push(s[u>>10]+s[63&u>>4]+s[63&u<<2]+"=")),m.join("")}w.byteLength=function(a){var u=h(a),b=u[0],f=u[1];return 3*(b+f)/4-f},w.toByteArray=L,w.fromByteArray=d;for(var s=[],g=[],k=typeof Uint8Array>"u"?Array:Uint8Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=0,i=E.length;O<i;++O)s[O]=E[O],g[E.charCodeAt(O)]=O;g[45]=62,g[95]=63},{}],2:[function(){},{}],3:[function(T,D,w){(function(){(function(){var h=String.fromCharCode,S=Math.min;function L(t){if(2147483647<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=n.prototype,e}function n(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(t)}return l(t,e,r)}function l(t,e,r){if(typeof t=="string")return k(t,e);if(ArrayBuffer.isView(t))return E(t);if(t==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(v(t,ArrayBuffer)||t&&v(t.buffer,ArrayBuffer))return O(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var c=t.valueOf&&t.valueOf();if(c!=null&&c!==t)return n.from(c,e,r);var _=i(t);if(_)return _;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return n.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function d(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(0>t)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function s(t,e,r){return d(t),0>=t||e===void 0?L(t):typeof r=="string"?L(t).fill(e,r):L(t).fill(e)}function g(t){return d(t),L(0>t?0:0|a(t))}function k(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!n.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|u(t,e),c=L(r),_=c.write(t,e);return _!==r&&(c=c.slice(0,_)),c}function E(t){for(var e=0>t.length?0:0|a(t.length),r=L(e),c=0;c<e;c+=1)r[c]=255&t[c];return r}function O(t,e,r){if(0>e||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var c;return c=e===void 0&&r===void 0?new Uint8Array(t):r===void 0?new Uint8Array(t,e):new Uint8Array(t,e,r),c.__proto__=n.prototype,c}function i(t){if(n.isBuffer(t)){var e=0|a(t.length),r=L(e);return r.length===0||t.copy(r,0,0,e),r}return t.length===void 0?t.type==="Buffer"&&Array.isArray(t.data)?E(t.data):void 0:typeof t.length!="number"||C(t.length)?L(0):E(t)}function a(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|t}function u(t,e){if(n.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||v(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,c=2<arguments.length&&arguments[2]===!0;if(!c&&r===0)return 0;for(var _=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return mt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return ut(t).length;default:if(_)return c?-1:mt(t).length;e=(""+e).toLowerCase(),_=!0}}function b(t,e,r){var c=!1;if((e===void 0||0>e)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),0>=r)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return tt(this,e,r);case"utf8":case"utf-8":return q(this,e,r);case"ascii":return M(this,e,r);case"latin1":case"binary":return st(this,e,r);case"base64":return j(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nt(this,e,r);default:if(c)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),c=!0}}function f(t,e,r){var c=t[e];t[e]=t[r],t[r]=c}function m(t,e,r,c,_){if(t.length===0)return-1;if(typeof r=="string"?(c=r,r=0):2147483647<r?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,C(r)&&(r=_?0:t.length-1),0>r&&(r=t.length+r),r>=t.length){if(_)return-1;r=t.length-1}else if(0>r)if(_)r=0;else return-1;if(typeof e=="string"&&(e=n.from(e,c)),n.isBuffer(e))return e.length===0?-1:A(t,e,r,c,_);if(typeof e=="number")return e&=255,typeof Uint8Array.prototype.indexOf=="function"?_?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):A(t,[e],r,c,_);throw new TypeError("val must be string, number or Buffer")}function A(t,e,r,c,_){function R(wt,Tt){return P===1?wt[Tt]:wt.readUInt16BE(Tt*P)}var P=1,H=t.length,X=e.length;if(c!==void 0&&(c=(c+"").toLowerCase(),c==="ucs2"||c==="ucs-2"||c==="utf16le"||c==="utf-16le")){if(2>t.length||2>e.length)return-1;P=2,H/=2,X/=2,r/=2}var Y;if(_){var W=-1;for(Y=r;Y<H;Y++)if(R(t,Y)!==R(e,W===-1?0:Y-W))W!==-1&&(Y-=Y-W),W=-1;else if(W===-1&&(W=Y),Y-W+1===X)return W*P}else for(r+X>H&&(r=H-X),Y=r;0<=Y;Y--){for(var rt=!0,vt=0;vt<X;vt++)if(R(t,Y+vt)!==R(e,vt)){rt=!1;break}if(rt)return Y}return-1}function p(t,e,r,c){r=+r||0;var _=t.length-r;c?(c=+c,c>_&&(c=_)):c=_;var R=e.length;c>R/2&&(c=R/2);for(var P,H=0;H<c;++H){if(P=parseInt(e.substr(2*H,2),16),C(P))return H;t[r+H]=P}return H}function y(t,e,r,c){return lt(mt(e,t.length-r),t,r,c)}function N(t,e,r,c){return lt(St(e),t,r,c)}function I(t,e,r,c){return N(t,e,r,c)}function B(t,e,r,c){return lt(ut(e),t,r,c)}function U(t,e,r,c){return lt(pt(e,t.length-r),t,r,c)}function j(t,e,r){return e===0&&r===t.length?x.fromByteArray(t):x.fromByteArray(t.slice(e,r))}function q(t,e,r){r=S(t.length,r);for(var c=[],_=e;_<r;){var R=t[_],P=null,H=239<R?4:223<R?3:191<R?2:1;if(_+H<=r){var X,Y,W,rt;H===1?128>R&&(P=R):H===2?(X=t[_+1],(192&X)==128&&(rt=(31&R)<<6|63&X,127<rt&&(P=rt))):H===3?(X=t[_+1],Y=t[_+2],(192&X)==128&&(192&Y)==128&&(rt=(15&R)<<12|(63&X)<<6|63&Y,2047<rt&&(55296>rt||57343<rt)&&(P=rt))):H===4&&(X=t[_+1],Y=t[_+2],W=t[_+3],(192&X)==128&&(192&Y)==128&&(192&W)==128&&(rt=(15&R)<<18|(63&X)<<12|(63&Y)<<6|63&W,65535<rt&&1114112>rt&&(P=rt)))}P===null?(P=65533,H=1):65535<P&&(P-=65536,c.push(55296|1023&P>>>10),P=56320|1023&P),c.push(P),_+=H}return V(c)}function V(t){var e=t.length;if(e<=4096)return h.apply(String,t);for(var r="",c=0;c<e;)r+=h.apply(String,t.slice(c,c+=4096));return r}function M(t,e,r){var c="";r=S(t.length,r);for(var _=e;_<r;++_)c+=h(127&t[_]);return c}function st(t,e,r){var c="";r=S(t.length,r);for(var _=e;_<r;++_)c+=h(t[_]);return c}function tt(t,e,r){var c=t.length;(!e||0>e)&&(e=0),(!r||0>r||r>c)&&(r=c);for(var _="",R=e;R<r;++R)_+=bt(t[R]);return _}function nt(t,e,r){for(var c=t.slice(e,r),_="",R=0;R<c.length;R+=2)_+=h(c[R]+256*c[R+1]);return _}function J(t,e,r){if(t%1!=0||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function G(t,e,r,c,_,R){if(!n.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>_||e<R)throw new RangeError('"value" argument is out of bounds');if(r+c>t.length)throw new RangeError("Index out of range")}function at(t,e,r,c){if(r+c>t.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}function ft(t,e,r,c,_){return e=+e,r>>>=0,_||at(t,e,r,4),F.write(t,e,r,c,23,4),r+4}function dt(t,e,r,c,_){return e=+e,r>>>=0,_||at(t,e,r,8),F.write(t,e,r,c,52,8),r+8}function Rt(t){if(t=t.split("=")[0],t=t.trim().replace(o,""),2>t.length)return"";for(;t.length%4!=0;)t+="=";return t}function bt(t){return 16>t?"0"+t.toString(16):t.toString(16)}function mt(t,e){e=e||1/0;for(var r,c=t.length,_=null,R=[],P=0;P<c;++P){if(r=t.charCodeAt(P),55295<r&&57344>r){if(!_){if(56319<r){-1<(e-=3)&&R.push(239,191,189);continue}else if(P+1===c){-1<(e-=3)&&R.push(239,191,189);continue}_=r;continue}if(56320>r){-1<(e-=3)&&R.push(239,191,189),_=r;continue}r=(_-55296<<10|r-56320)+65536}else _&&-1<(e-=3)&&R.push(239,191,189);if(_=null,128>r){if(0>(e-=1))break;R.push(r)}else if(2048>r){if(0>(e-=2))break;R.push(192|r>>6,128|63&r)}else if(65536>r){if(0>(e-=3))break;R.push(224|r>>12,128|63&r>>6,128|63&r)}else if(1114112>r){if(0>(e-=4))break;R.push(240|r>>18,128|63&r>>12,128|63&r>>6,128|63&r)}else throw new Error("Invalid code point")}return R}function St(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function pt(t,e){for(var r,c,_,R=[],P=0;P<t.length&&!(0>(e-=2));++P)r=t.charCodeAt(P),c=r>>8,_=r%256,R.push(_),R.push(c);return R}function ut(t){return x.toByteArray(Rt(t))}function lt(t,e,r,c){for(var _=0;_<c&&!(_+r>=e.length||_>=t.length);++_)e[_+r]=t[_];return _}function v(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function C(t){return t!==t}var x=T("base64-js"),F=T("ieee754");w.Buffer=n,w.SlowBuffer=function(t){return+t!=t&&(t=0),n.alloc(+t)},w.INSPECT_MAX_BYTES=50,w.kMaxLength=2147483647,n.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42}catch{return!1}}(),n.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){return n.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){return n.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192,n.from=function(t,e,r){return l(t,e,r)},n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,n.alloc=function(t,e,r){return s(t,e,r)},n.allocUnsafe=function(t){return g(t)},n.allocUnsafeSlow=function(t){return g(t)},n.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==n.prototype},n.compare=function(t,e){if(v(t,Uint8Array)&&(t=n.from(t,t.offset,t.byteLength)),v(e,Uint8Array)&&(e=n.from(e,e.offset,e.byteLength)),!n.isBuffer(t)||!n.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,c=e.length,_=0,R=S(r,c);_<R;++_)if(t[_]!==e[_]){r=t[_],c=e[_];break}return r<c?-1:c<r?1:0},n.isEncoding=function(t){switch((t+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return n.alloc(0);var r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var c=n.allocUnsafe(e),_=0;for(r=0;r<t.length;++r){var R=t[r];if(v(R,Uint8Array)&&(R=n.from(R)),!n.isBuffer(R))throw new TypeError('"list" argument must be an Array of Buffers');R.copy(c,_),_+=R.length}return c},n.byteLength=u,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)f(this,e,e+1);return this},n.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},n.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},n.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?q(this,0,t):b.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(t){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||n.compare(this,t)===0},n.prototype.inspect=function(){var t="",e=w.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},n.prototype.compare=function(t,e,r,c,_){if(v(t,Uint8Array)&&(t=n.from(t,t.offset,t.byteLength)),!n.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),c===void 0&&(c=0),_===void 0&&(_=this.length),0>e||r>t.length||0>c||_>this.length)throw new RangeError("out of range index");if(c>=_&&e>=r)return 0;if(c>=_)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,c>>>=0,_>>>=0,this===t)return 0;for(var R=_-c,P=r-e,H=S(R,P),X=this.slice(c,_),Y=t.slice(e,r),W=0;W<H;++W)if(X[W]!==Y[W]){R=X[W],P=Y[W];break}return R<P?-1:P<R?1:0},n.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},n.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},n.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},n.prototype.write=function(t,e,r,c){if(e===void 0)c="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")c=e,r=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(r)?(r>>>=0,c===void 0&&(c="utf8")):(c=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var _=this.length-e;if((r===void 0||r>_)&&(r=_),0<t.length&&(0>r||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");c||(c="utf8");for(var R=!1;;)switch(c){case"hex":return p(this,t,e,r);case"utf8":case"utf-8":return y(this,t,e,r);case"ascii":return N(this,t,e,r);case"latin1":case"binary":return I(this,t,e,r);case"base64":return B(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,e,r);default:if(R)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase(),R=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},n.prototype.slice=function(t,e){var r=this.length;t=~~t,e=e===void 0?r:~~e,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),e<t&&(e=t);var c=this.subarray(t,e);return c.__proto__=n.prototype,c},n.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||J(t,e,this.length);for(var c=this[t],_=1,R=0;++R<e&&(_*=256);)c+=this[t+R]*_;return c},n.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||J(t,e,this.length);for(var c=this[t+--e],_=1;0<e&&(_*=256);)c+=this[t+--e]*_;return c},n.prototype.readUInt8=function(t,e){return t>>>=0,e||J(t,1,this.length),this[t]},n.prototype.readUInt16LE=function(t,e){return t>>>=0,e||J(t,2,this.length),this[t]|this[t+1]<<8},n.prototype.readUInt16BE=function(t,e){return t>>>=0,e||J(t,2,this.length),this[t]<<8|this[t+1]},n.prototype.readUInt32LE=function(t,e){return t>>>=0,e||J(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},n.prototype.readUInt32BE=function(t,e){return t>>>=0,e||J(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},n.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||J(t,e,this.length);for(var c=this[t],_=1,R=0;++R<e&&(_*=256);)c+=this[t+R]*_;return _*=128,c>=_&&(c-=z(2,8*e)),c},n.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||J(t,e,this.length);for(var c=e,_=1,R=this[t+--c];0<c&&(_*=256);)R+=this[t+--c]*_;return _*=128,R>=_&&(R-=z(2,8*e)),R},n.prototype.readInt8=function(t,e){return t>>>=0,e||J(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},n.prototype.readInt16LE=function(t,e){t>>>=0,e||J(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},n.prototype.readInt16BE=function(t,e){t>>>=0,e||J(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},n.prototype.readInt32LE=function(t,e){return t>>>=0,e||J(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},n.prototype.readInt32BE=function(t,e){return t>>>=0,e||J(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},n.prototype.readFloatLE=function(t,e){return t>>>=0,e||J(t,4,this.length),F.read(this,t,!0,23,4)},n.prototype.readFloatBE=function(t,e){return t>>>=0,e||J(t,4,this.length),F.read(this,t,!1,23,4)},n.prototype.readDoubleLE=function(t,e){return t>>>=0,e||J(t,8,this.length),F.read(this,t,!0,52,8)},n.prototype.readDoubleBE=function(t,e){return t>>>=0,e||J(t,8,this.length),F.read(this,t,!1,52,8)},n.prototype.writeUIntLE=function(t,e,r,c){if(t=+t,e>>>=0,r>>>=0,!c){var _=z(2,8*r)-1;G(this,t,e,r,_,0)}var R=1,P=0;for(this[e]=255&t;++P<r&&(R*=256);)this[e+P]=255&t/R;return e+r},n.prototype.writeUIntBE=function(t,e,r,c){if(t=+t,e>>>=0,r>>>=0,!c){var _=z(2,8*r)-1;G(this,t,e,r,_,0)}var R=r-1,P=1;for(this[e+R]=255&t;0<=--R&&(P*=256);)this[e+R]=255&t/P;return e+r},n.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||G(this,t,e,1,255,0),this[e]=255&t,e+1},n.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||G(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},n.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||G(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},n.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||G(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},n.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||G(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},n.prototype.writeIntLE=function(t,e,r,c){if(t=+t,e>>>=0,!c){var _=z(2,8*r-1);G(this,t,e,r,_-1,-_)}var R=0,P=1,H=0;for(this[e]=255&t;++R<r&&(P*=256);)0>t&&H===0&&this[e+R-1]!==0&&(H=1),this[e+R]=255&(t/P>>0)-H;return e+r},n.prototype.writeIntBE=function(t,e,r,c){if(t=+t,e>>>=0,!c){var _=z(2,8*r-1);G(this,t,e,r,_-1,-_)}var R=r-1,P=1,H=0;for(this[e+R]=255&t;0<=--R&&(P*=256);)0>t&&H===0&&this[e+R+1]!==0&&(H=1),this[e+R]=255&(t/P>>0)-H;return e+r},n.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||G(this,t,e,1,127,-128),0>t&&(t=255+t+1),this[e]=255&t,e+1},n.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||G(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},n.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||G(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},n.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||G(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},n.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||G(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},n.prototype.writeFloatLE=function(t,e,r){return ft(this,t,e,!0,r)},n.prototype.writeFloatBE=function(t,e,r){return ft(this,t,e,!1,r)},n.prototype.writeDoubleLE=function(t,e,r){return dt(this,t,e,!0,r)},n.prototype.writeDoubleBE=function(t,e,r){return dt(this,t,e,!1,r)},n.prototype.copy=function(t,e,r,c){if(!n.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),c||c===0||(c=this.length),e>=t.length&&(e=t.length),e||(e=0),0<c&&c<r&&(c=r),c===r||t.length===0||this.length===0)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("Index out of range");if(0>c)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length),t.length-e<c-r&&(c=t.length-e+r);var _=c-r;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(e,r,c);else if(this===t&&r<e&&e<c)for(var R=_-1;0<=R;--R)t[R+e]=this[R+r];else Uint8Array.prototype.set.call(t,this.subarray(r,c),e);return _},n.prototype.fill=function(t,e,r,c){if(typeof t=="string"){if(typeof e=="string"?(c=e,e=0,r=this.length):typeof r=="string"&&(c=r,r=this.length),c!==void 0&&typeof c!="string")throw new TypeError("encoding must be a string");if(typeof c=="string"&&!n.isEncoding(c))throw new TypeError("Unknown encoding: "+c);if(t.length===1){var _=t.charCodeAt(0);(c==="utf8"&&128>_||c==="latin1")&&(t=_)}}else typeof t=="number"&&(t&=255);if(0>e||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=r===void 0?this.length:r>>>0,t||(t=0);var R;if(typeof t=="number")for(R=e;R<r;++R)this[R]=t;else{var P=n.isBuffer(t)?t:n.from(t,c),H=P.length;if(H===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(R=0;R<r-e;++R)this[R+e]=P[R%H]}return this};var o=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,T("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(T,D,w){(function(h){(function(){function S(){let n;try{n=w.storage.getItem("debug")}catch{}return!n&&typeof h<"u"&&"env"in h&&(n=h.env.DEBUG),n}w.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+D.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;n.splice(1,0,l,"color: inherit");let d=0,s=0;n[0].replace(/%[a-zA-Z%]/g,g=>{g==="%%"||(d++,g==="%c"&&(s=d))}),n.splice(s,0,l)},w.save=function(n){try{n?w.storage.setItem("debug",n):w.storage.removeItem("debug")}catch{}},w.load=S,w.useColors=function(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},w.storage=function(){try{return localStorage}catch{}}(),w.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),w.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],w.log=console.debug||console.log||(()=>{}),D.exports=T("./common")(w);const{formatters:L}=D.exports;L.j=function(n){try{return JSON.stringify(n)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}}).call(this)}).call(this,T("_process"))},{"./common":5,_process:12}],5:[function(T,D){D.exports=function(w){function h(n){function l(...g){if(!l.enabled)return;const k=l,E=+new Date,O=E-(d||E);k.diff=O,k.prev=d,k.curr=E,d=E,g[0]=h.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let i=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(u,b)=>{if(u==="%%")return"%";i++;const f=h.formatters[b];if(typeof f=="function"){const m=g[i];u=f.call(k,m),g.splice(i,1),i--}return u}),h.formatArgs.call(k,g),(k.log||h.log).apply(k,g)}let d,s=null;return l.namespace=n,l.useColors=h.useColors(),l.color=h.selectColor(n),l.extend=S,l.destroy=h.destroy,Object.defineProperty(l,"enabled",{enumerable:!0,configurable:!1,get:()=>s===null?h.enabled(n):s,set:g=>{s=g}}),typeof h.init=="function"&&h.init(l),l}function S(n,l){const d=h(this.namespace+(typeof l>"u"?":":l)+n);return d.log=this.log,d}function L(n){return n.toString().substring(2,n.toString().length-2).replace(/\.\*\?$/,"*")}return h.debug=h,h.default=h,h.coerce=function(n){return n instanceof Error?n.stack||n.message:n},h.disable=function(){const n=[...h.names.map(L),...h.skips.map(L).map(l=>"-"+l)].join(",");return h.enable(""),n},h.enable=function(n){h.save(n),h.names=[],h.skips=[];let l;const d=(typeof n=="string"?n:"").split(/[\s,]+/),s=d.length;for(l=0;l<s;l++)d[l]&&(n=d[l].replace(/\*/g,".*?"),n[0]==="-"?h.skips.push(new RegExp("^"+n.substr(1)+"$")):h.names.push(new RegExp("^"+n+"$")))},h.enabled=function(n){if(n[n.length-1]==="*")return!0;let l,d;for(l=0,d=h.skips.length;l<d;l++)if(h.skips[l].test(n))return!1;for(l=0,d=h.names.length;l<d;l++)if(h.names[l].test(n))return!0;return!1},h.humanize=T("ms"),h.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(w).forEach(n=>{h[n]=w[n]}),h.names=[],h.skips=[],h.formatters={},h.selectColor=function(n){let l=0;for(let d=0;d<n.length;d++)l=(l<<5)-l+n.charCodeAt(d),l|=0;return h.colors[et(l)%h.colors.length]},h.enable(h.load()),h}},{ms:11}],6:[function(T,D){function w(h,S){for(const L in S)Object.defineProperty(h,L,{value:S[L],enumerable:!0,configurable:!0});return h}D.exports=function(h,S,L){if(!h||typeof h=="string")throw new TypeError("Please pass an Error to err-code");L||(L={}),typeof S=="object"&&(L=S,S=""),S&&(L.code=S);try{return w(h,L)}catch{L.message=h.message,L.stack=h.stack;const l=function(){};return l.prototype=Object.create(Object.getPrototypeOf(h)),w(new l,L)}}},{}],7:[function(T,D){function w(p){console&&console.warn&&console.warn(p)}function h(){h.init.call(this)}function S(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function L(p){return p._maxListeners===void 0?h.defaultMaxListeners:p._maxListeners}function n(p,y,N,I){var B,U,j;if(S(N),U=p._events,U===void 0?(U=p._events=Object.create(null),p._eventsCount=0):(U.newListener!==void 0&&(p.emit("newListener",y,N.listener?N.listener:N),U=p._events),j=U[y]),j===void 0)j=U[y]=N,++p._eventsCount;else if(typeof j=="function"?j=U[y]=I?[N,j]:[j,N]:I?j.unshift(N):j.push(N),B=L(p),0<B&&j.length>B&&!j.warned){j.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+(y+" listeners added. Use emitter.setMaxListeners() to increase limit"));q.name="MaxListenersExceededWarning",q.emitter=p,q.type=y,q.count=j.length,w(q)}return p}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(p,y,N){var I={fired:!1,wrapFn:void 0,target:p,type:y,listener:N},B=l.bind(I);return B.listener=N,I.wrapFn=B,B}function s(p,y,N){var I=p._events;if(I===void 0)return[];var B=I[y];return B===void 0?[]:typeof B=="function"?N?[B.listener||B]:[B]:N?O(B):k(B,B.length)}function g(p){var y=this._events;if(y!==void 0){var N=y[p];if(typeof N=="function")return 1;if(N!==void 0)return N.length}return 0}function k(p,y){for(var N=Array(y),I=0;I<y;++I)N[I]=p[I];return N}function E(p,y){for(;y+1<p.length;y++)p[y]=p[y+1];p.pop()}function O(p){for(var y=Array(p.length),N=0;N<y.length;++N)y[N]=p[N].listener||p[N];return y}function i(p,y,N){typeof p.on=="function"&&a(p,"error",y,N)}function a(p,y,N,I){if(typeof p.on=="function")I.once?p.once(y,N):p.on(y,N);else if(typeof p.addEventListener=="function")p.addEventListener(y,function B(U){I.once&&p.removeEventListener(y,B),N(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p)}var u,b=typeof Reflect=="object"?Reflect:null,f=b&&typeof b.apply=="function"?b.apply:function(p,y,N){return Function.prototype.apply.call(p,y,N)};u=b&&typeof b.ownKeys=="function"?b.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var m=Number.isNaN||function(p){return p!==p};D.exports=h,D.exports.once=function(p,y){return new Promise(function(N,I){function B(j){p.removeListener(y,U),I(j)}function U(){typeof p.removeListener=="function"&&p.removeListener("error",B),N([].slice.call(arguments))}a(p,y,U,{once:!0}),y!=="error"&&i(p,B,{once:!0})})},h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var A=10;Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(p){if(typeof p!="number"||0>p||m(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");A=p}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(p){if(typeof p!="number"||0>p||m(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},h.prototype.getMaxListeners=function(){return L(this)},h.prototype.emit=function(p){for(var y=[],N=1;N<arguments.length;N++)y.push(arguments[N]);var I=p==="error",B=this._events;if(B!==void 0)I=I&&B.error===void 0;else if(!I)return!1;if(I){var U;if(0<y.length&&(U=y[0]),U instanceof Error)throw U;var j=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw j.context=U,j}var q=B[p];if(q===void 0)return!1;if(typeof q=="function")f(q,this,y);else for(var V=q.length,M=k(q,V),N=0;N<V;++N)f(M[N],this,y);return!0},h.prototype.addListener=function(p,y){return n(this,p,y,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(p,y){return n(this,p,y,!0)},h.prototype.once=function(p,y){return S(y),this.on(p,d(this,p,y)),this},h.prototype.prependOnceListener=function(p,y){return S(y),this.prependListener(p,d(this,p,y)),this},h.prototype.removeListener=function(p,y){var N,I,B,U,j;if(S(y),I=this._events,I===void 0)return this;if(N=I[p],N===void 0)return this;if(N===y||N.listener===y)--this._eventsCount==0?this._events=Object.create(null):(delete I[p],I.removeListener&&this.emit("removeListener",p,N.listener||y));else if(typeof N!="function"){for(B=-1,U=N.length-1;0<=U;U--)if(N[U]===y||N[U].listener===y){j=N[U].listener,B=U;break}if(0>B)return this;B===0?N.shift():E(N,B),N.length===1&&(I[p]=N[0]),I.removeListener!==void 0&&this.emit("removeListener",p,j||y)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(p){var y,N,I;if(N=this._events,N===void 0)return this;if(N.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):N[p]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete N[p]),this;if(arguments.length===0){var B,U=Object.keys(N);for(I=0;I<U.length;++I)B=U[I],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(y=N[p],typeof y=="function")this.removeListener(p,y);else if(y!==void 0)for(I=y.length-1;0<=I;I--)this.removeListener(p,y[I]);return this},h.prototype.listeners=function(p){return s(this,p,!0)},h.prototype.rawListeners=function(p){return s(this,p,!1)},h.listenerCount=function(p,y){return typeof p.listenerCount=="function"?p.listenerCount(y):g.call(p,y)},h.prototype.listenerCount=g,h.prototype.eventNames=function(){return 0<this._eventsCount?u(this._events):[]}},{}],8:[function(T,D){D.exports=function(){if(typeof globalThis>"u")return null;var w={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return w.RTCPeerConnection?w:null}},{}],9:[function(T,D,w){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */w.read=function(h,S,L,n,l){var d,s,g=8*l-n-1,k=(1<<g)-1,E=k>>1,O=-7,i=L?l-1:0,a=L?-1:1,u=h[S+i];for(i+=a,d=u&(1<<-O)-1,u>>=-O,O+=g;0<O;d=256*d+h[S+i],i+=a,O-=8);for(s=d&(1<<-O)-1,d>>=-O,O+=n;0<O;s=256*s+h[S+i],i+=a,O-=8);if(d===0)d=1-E;else{if(d===k)return s?NaN:(u?-1:1)*(1/0);s+=z(2,n),d-=E}return(u?-1:1)*s*z(2,d-n)},w.write=function(h,S,L,n,l,d){var s,g,k,E=Math.LN2,O=Math.log,i=8*d-l-1,a=(1<<i)-1,u=a>>1,b=l===23?z(2,-24)-z(2,-77):0,f=n?0:d-1,m=n?1:-1,A=0>S||S===0&&0>1/S?1:0;for(S=et(S),isNaN(S)||S===1/0?(g=isNaN(S)?1:0,s=a):(s=Q(O(S)/E),1>S*(k=z(2,-s))&&(s--,k*=2),S+=1<=s+u?b/k:b*z(2,1-u),2<=S*k&&(s++,k/=2),s+u>=a?(g=0,s=a):1<=s+u?(g=(S*k-1)*z(2,l),s+=u):(g=S*z(2,u-1)*z(2,l),s=0));8<=l;h[L+f]=255&g,f+=m,g/=256,l-=8);for(s=s<<l|g,i+=l;0<i;h[L+f]=255&s,f+=m,s/=256,i-=8);h[L+f-m]|=128*A}},{}],10:[function(T,D){D.exports=typeof Object.create=="function"?function(w,h){h&&(w.super_=h,w.prototype=Object.create(h.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:function(w,h){if(h){w.super_=h;var S=function(){};S.prototype=h.prototype,w.prototype=new S,w.prototype.constructor=w}}},{}],11:[function(T,D){var w=Math.round;function h(l){if(l+="",!(100<l.length)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(d){var s=parseFloat(d[1]),g=(d[2]||"ms").toLowerCase();return g==="years"||g==="year"||g==="yrs"||g==="yr"||g==="y"?315576e5*s:g==="weeks"||g==="week"||g==="w"?6048e5*s:g==="days"||g==="day"||g==="d"?864e5*s:g==="hours"||g==="hour"||g==="hrs"||g==="hr"||g==="h"?36e5*s:g==="minutes"||g==="minute"||g==="mins"||g==="min"||g==="m"?6e4*s:g==="seconds"||g==="second"||g==="secs"||g==="sec"||g==="s"?1e3*s:g==="milliseconds"||g==="millisecond"||g==="msecs"||g==="msec"||g==="ms"?s:void 0}}}function S(l){var d=et(l);return 864e5<=d?w(l/864e5)+"d":36e5<=d?w(l/36e5)+"h":6e4<=d?w(l/6e4)+"m":1e3<=d?w(l/1e3)+"s":l+"ms"}function L(l){var d=et(l);return 864e5<=d?n(l,d,864e5,"day"):36e5<=d?n(l,d,36e5,"hour"):6e4<=d?n(l,d,6e4,"minute"):1e3<=d?n(l,d,1e3,"second"):l+" ms"}function n(l,d,s,g){return w(l/s)+" "+g+(d>=1.5*s?"s":"")}D.exports=function(l,d){d=d||{};var s=typeof l;if(s=="string"&&0<l.length)return h(l);if(s==="number"&&isFinite(l))return d.long?L(l):S(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))}},{}],12:[function(T,D){function w(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function S(b){if(g===setTimeout)return setTimeout(b,0);if((g===w||!g)&&setTimeout)return g=setTimeout,setTimeout(b,0);try{return g(b,0)}catch{try{return g.call(null,b,0)}catch{return g.call(this,b,0)}}}function L(b){if(k===clearTimeout)return clearTimeout(b);if((k===h||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(b);try{return k(b)}catch{try{return k.call(null,b)}catch{return k.call(this,b)}}}function n(){a&&O&&(a=!1,O.length?i=O.concat(i):u=-1,i.length&&l())}function l(){if(!a){var b=S(n);a=!0;for(var f=i.length;f;){for(O=i,i=[];++u<f;)O&&O[u].run();u=-1,f=i.length}O=null,a=!1,L(b)}}function d(b,f){this.fun=b,this.array=f}function s(){}var g,k,E=D.exports={};(function(){try{g=typeof setTimeout=="function"?setTimeout:w}catch{g=w}try{k=typeof clearTimeout=="function"?clearTimeout:h}catch{k=h}})();var O,i=[],a=!1,u=-1;E.nextTick=function(b){var f=Array(arguments.length-1);if(1<arguments.length)for(var m=1;m<arguments.length;m++)f[m-1]=arguments[m];i.push(new d(b,f)),i.length!==1||a||S(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},E.title="browser",E.browser=!0,E.env={},E.argv=[],E.version="",E.versions={},E.on=s,E.addListener=s,E.once=s,E.off=s,E.removeListener=s,E.removeAllListeners=s,E.emit=s,E.prependListener=s,E.prependOnceListener=s,E.listeners=function(){return[]},E.binding=function(){throw new Error("process.binding is not supported")},E.cwd=function(){return"/"},E.chdir=function(){throw new Error("process.chdir is not supported")},E.umask=function(){return 0}},{}],13:[function(T,D){(function(w){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let h;D.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?w:window):S=>(h||(h=Promise.resolve())).then(S).catch(L=>setTimeout(()=>{throw L},0))}).call(this)}).call(this,typeof ht>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ht)},{}],14:[function(T,D){(function(w,h){(function(){var S=T("safe-buffer").Buffer,L=h.crypto||h.msCrypto;D.exports=L&&L.getRandomValues?function(n,l){if(n>4294967295)throw new RangeError("requested too many random bytes");var d=S.allocUnsafe(n);if(0<n)if(65536<n)for(var s=0;s<n;s+=65536)L.getRandomValues(d.slice(s,s+65536));else L.getRandomValues(d);return typeof l=="function"?w.nextTick(function(){l(null,d)}):d}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,T("_process"),typeof ht>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ht)},{_process:12,"safe-buffer":30}],15:[function(T,D){function w(s,g){s.prototype=Object.create(g.prototype),s.prototype.constructor=s,s.__proto__=g}function h(s,g,k){function E(i,a,u){return typeof g=="string"?g:g(i,a,u)}k||(k=Error);var O=function(i){function a(u,b,f){return i.call(this,E(u,b,f))||this}return w(a,i),a}(k);O.prototype.name=k.name,O.prototype.code=s,d[s]=O}function S(s,g){if(Array.isArray(s)){var k=s.length;return s=s.map(function(E){return E+""}),2<k?"one of ".concat(g," ").concat(s.slice(0,k-1).join(", "),", or ")+s[k-1]:k===2?"one of ".concat(g," ").concat(s[0]," or ").concat(s[1]):"of ".concat(g," ").concat(s[0])}return"of ".concat(g," ").concat(s+"")}function L(s,g,k){return s.substr(!k||0>k?0:+k,g.length)===g}function n(s,g,k){return(k===void 0||k>s.length)&&(k=s.length),s.substring(k-g.length,k)===g}function l(s,g,k){return typeof k!="number"&&(k=0),!(k+g.length>s.length)&&s.indexOf(g,k)!==-1}var d={};h("ERR_INVALID_OPT_VALUE",function(s,g){return'The value "'+g+'" is invalid for option "'+s+'"'},TypeError),h("ERR_INVALID_ARG_TYPE",function(s,g,k){var E;typeof g=="string"&&L(g,"not ")?(E="must not be",g=g.replace(/^not /,"")):E="must be";var O;if(n(s," argument"))O="The ".concat(s," ").concat(E," ").concat(S(g,"type"));else{var i=l(s,".")?"property":"argument";O='The "'.concat(s,'" ').concat(i," ").concat(E," ").concat(S(g,"type"))}return O+=". Received type ".concat(typeof k),O},TypeError),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),h("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),h("ERR_STREAM_PREMATURE_CLOSE","Premature close"),h("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),h("ERR_STREAM_WRITE_AFTER_END","write after end"),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),D.exports.codes=d},{}],16:[function(T,D){(function(w){(function(){function h(E){return this instanceof h?(l.call(this,E),d.call(this,E),this.allowHalfOpen=!0,void(E&&(E.readable===!1&&(this.readable=!1),E.writable===!1&&(this.writable=!1),E.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",S))))):new h(E)}function S(){this._writableState.ended||w.nextTick(L,this)}function L(E){E.end()}var n=Object.keys||function(E){var O=[];for(var i in E)O.push(i);return O};D.exports=h;var l=T("./_stream_readable"),d=T("./_stream_writable");T("inherits")(h,l);for(var s,g=n(d.prototype),k=0;k<g.length;k++)s=g[k],h.prototype[s]||(h.prototype[s]=d.prototype[s]);Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}})}).call(this)}).call(this,T("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(T,D){function w(S){return this instanceof w?void h.call(this,S):new w(S)}D.exports=w;var h=T("./_stream_transform");T("inherits")(w,h),w.prototype._transform=function(S,L,n){n(null,S)}},{"./_stream_transform":19,inherits:10}],18:[function(T,D){(function(w,h){(function(){function S(o){return nt.from(o)}function L(o){return nt.isBuffer(o)||o instanceof J}function n(o,t,e){return typeof o.prependListener=="function"?o.prependListener(t,e):void(o._events&&o._events[t]?Array.isArray(o._events[t])?o._events[t].unshift(e):o._events[t]=[e,o._events[t]]:o.on(t,e))}function l(o,t,e){V=V||T("./_stream_duplex"),o=o||{},typeof e!="boolean"&&(e=t instanceof V),this.objectMode=!!o.objectMode,e&&(this.objectMode=this.objectMode||!!o.readableObjectMode),this.highWaterMark=St(this,o,"readableHighWaterMark",e),this.buffer=new Rt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=o.emitClose!==!1,this.autoDestroy=!!o.autoDestroy,this.destroyed=!1,this.defaultEncoding=o.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,o.encoding&&(!at&&(at=T("string_decoder/").StringDecoder),this.decoder=new at(o.encoding),this.encoding=o.encoding)}function d(o){if(V=V||T("./_stream_duplex"),!(this instanceof d))return new d(o);var t=this instanceof V;this._readableState=new l(o,this,t),this.readable=!0,o&&(typeof o.read=="function"&&(this._read=o.read),typeof o.destroy=="function"&&(this._destroy=o.destroy)),tt.call(this)}function s(o,t,e,r,c){M("readableAddChunk",t);var _=o._readableState;if(t===null)_.reading=!1,i(o,_);else{var R;if(c||(R=k(_,t)),R)x(o,R);else if(!(_.objectMode||t&&0<t.length))r||(_.reading=!1,b(o,_));else if(typeof t=="string"||_.objectMode||Object.getPrototypeOf(t)===nt.prototype||(t=S(t)),r)_.endEmitted?x(o,new C):g(o,_,t,!0);else if(_.ended)x(o,new lt);else{if(_.destroyed)return!1;_.reading=!1,_.decoder&&!e?(t=_.decoder.write(t),_.objectMode||t.length!==0?g(o,_,t,!1):b(o,_)):g(o,_,t,!1)}}return!_.ended&&(_.length<_.highWaterMark||_.length===0)}function g(o,t,e,r){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,o.emit("data",e)):(t.length+=t.objectMode?1:e.length,r?t.buffer.unshift(e):t.buffer.push(e),t.needReadable&&a(o)),b(o,t)}function k(o,t){var e;return L(t)||typeof t=="string"||t===void 0||o.objectMode||(e=new ut("chunk",["string","Buffer","Uint8Array"],t)),e}function E(o){return 1073741824<=o?o=1073741824:(o--,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o++),o}function O(o,t){return 0>=o||t.length===0&&t.ended?0:t.objectMode?1:o===o?(o>t.highWaterMark&&(t.highWaterMark=E(o)),o<=t.length?o:t.ended?t.length:(t.needReadable=!0,0)):t.flowing&&t.length?t.buffer.head.data.length:t.length}function i(o,t){if(M("onEofChunk"),!t.ended){if(t.decoder){var e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?a(o):(t.needReadable=!1,!t.emittedReadable&&(t.emittedReadable=!0,u(o)))}}function a(o){var t=o._readableState;M("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(M("emitReadable",t.flowing),t.emittedReadable=!0,w.nextTick(u,o))}function u(o){var t=o._readableState;M("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(o.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,I(o)}function b(o,t){t.readingMore||(t.readingMore=!0,w.nextTick(f,o,t))}function f(o,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var e=t.length;if(M("maybeReadMore read 0"),o.read(0),e===t.length)break}t.readingMore=!1}function m(o){return function(){var t=o._readableState;M("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&st(o,"data")&&(t.flowing=!0,I(o))}}function A(o){var t=o._readableState;t.readableListening=0<o.listenerCount("readable"),t.resumeScheduled&&!t.paused?t.flowing=!0:0<o.listenerCount("data")&&o.resume()}function p(o){M("readable nexttick read 0"),o.read(0)}function y(o,t){t.resumeScheduled||(t.resumeScheduled=!0,w.nextTick(N,o,t))}function N(o,t){M("resume",t.reading),t.reading||o.read(0),t.resumeScheduled=!1,o.emit("resume"),I(o),t.flowing&&!t.reading&&o.read(0)}function I(o){var t=o._readableState;for(M("flow",t.flowing);t.flowing&&o.read()!==null;);}function B(o,t){if(t.length===0)return null;var e;return t.objectMode?e=t.buffer.shift():!o||o>=t.length?(e=t.decoder?t.buffer.join(""):t.buffer.length===1?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):e=t.buffer.consume(o,t.decoder),e}function U(o){var t=o._readableState;M("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,w.nextTick(j,t,o))}function j(o,t){if(M("endReadableNT",o.endEmitted,o.length),!o.endEmitted&&o.length===0&&(o.endEmitted=!0,t.readable=!1,t.emit("end"),o.autoDestroy)){var e=t._writableState;(!e||e.autoDestroy&&e.finished)&&t.destroy()}}function q(o,t){for(var e=0,r=o.length;e<r;e++)if(o[e]===t)return e;return-1}D.exports=d;var V;d.ReadableState=l;var M;T("events").EventEmitter;var st=function(o,t){return o.listeners(t).length},tt=T("./internal/streams/stream"),nt=T("buffer").Buffer,J=h.Uint8Array||function(){},G=T("util");M=G&&G.debuglog?G.debuglog("stream"):function(){};var at,ft,dt,Rt=T("./internal/streams/buffer_list"),bt=T("./internal/streams/destroy"),mt=T("./internal/streams/state"),St=mt.getHighWaterMark,pt=T("../errors").codes,ut=pt.ERR_INVALID_ARG_TYPE,lt=pt.ERR_STREAM_PUSH_AFTER_EOF,v=pt.ERR_METHOD_NOT_IMPLEMENTED,C=pt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;T("inherits")(d,tt);var x=bt.errorOrDestroy,F=["error","close","destroy","pause","resume"];Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(o){this._readableState&&(this._readableState.destroyed=o)}}),d.prototype.destroy=bt.destroy,d.prototype._undestroy=bt.undestroy,d.prototype._destroy=function(o,t){t(o)},d.prototype.push=function(o,t){var e,r=this._readableState;return r.objectMode?e=!0:typeof o=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(o=nt.from(o,t),t=""),e=!0),s(this,o,t,!1,e)},d.prototype.unshift=function(o){return s(this,o,null,!0,!1)},d.prototype.isPaused=function(){return this._readableState.flowing===!1},d.prototype.setEncoding=function(o){at||(at=T("string_decoder/").StringDecoder);var t=new at(o);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var e=this._readableState.buffer.head,r="";e!==null;)r+=t.write(e.data),e=e.next;return this._readableState.buffer.clear(),r!==""&&this._readableState.buffer.push(r),this._readableState.length=r.length,this},d.prototype.read=function(o){M("read",o),o=parseInt(o,10);var t=this._readableState,e=o;if(o!==0&&(t.emittedReadable=!1),o===0&&t.needReadable&&((t.highWaterMark===0?0<t.length:t.length>=t.highWaterMark)||t.ended))return M("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?U(this):a(this),null;if(o=O(o,t),o===0&&t.ended)return t.length===0&&U(this),null;var r=t.needReadable;M("need readable",r),(t.length===0||t.length-o<t.highWaterMark)&&(r=!0,M("length less than watermark",r)),t.ended||t.reading?(r=!1,M("reading or ended",r)):r&&(M("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,!t.reading&&(o=O(e,t)));var c;return c=0<o?B(o,t):null,c===null?(t.needReadable=t.length<=t.highWaterMark,o=0):(t.length-=o,t.awaitDrain=0),t.length===0&&(!t.ended&&(t.needReadable=!0),e!==o&&t.ended&&U(this)),c!==null&&this.emit("data",c),c},d.prototype._read=function(){x(this,new v("_read()"))},d.prototype.pipe=function(o,t){function e(Et,Ct){M("onunpipe"),Et===Y&&Ct&&Ct.hasUnpiped===!1&&(Ct.hasUnpiped=!0,c())}function r(){M("onend"),o.end()}function c(){M("cleanup"),o.removeListener("close",P),o.removeListener("finish",H),o.removeListener("drain",wt),o.removeListener("error",R),o.removeListener("unpipe",e),Y.removeListener("end",r),Y.removeListener("end",X),Y.removeListener("data",_),Tt=!0,W.awaitDrain&&(!o._writableState||o._writableState.needDrain)&&wt()}function _(Et){M("ondata");var Ct=o.write(Et);M("dest.write",Ct),Ct===!1&&((W.pipesCount===1&&W.pipes===o||1<W.pipesCount&&q(W.pipes,o)!==-1)&&!Tt&&(M("false write response, pause",W.awaitDrain),W.awaitDrain++),Y.pause())}function R(Et){M("onerror",Et),X(),o.removeListener("error",R),st(o,"error")===0&&x(o,Et)}function P(){o.removeListener("finish",H),X()}function H(){M("onfinish"),o.removeListener("close",P),X()}function X(){M("unpipe"),Y.unpipe(o)}var Y=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=o;break;case 1:W.pipes=[W.pipes,o];break;default:W.pipes.push(o)}W.pipesCount+=1,M("pipe count=%d opts=%j",W.pipesCount,t);var rt=(!t||t.end!==!1)&&o!==w.stdout&&o!==w.stderr,vt=rt?r:X;W.endEmitted?w.nextTick(vt):Y.once("end",vt),o.on("unpipe",e);var wt=m(Y);o.on("drain",wt);var Tt=!1;return Y.on("data",_),n(o,"error",R),o.once("close",P),o.once("finish",H),o.emit("pipe",Y),W.flowing||(M("pipe resume"),Y.resume()),o},d.prototype.unpipe=function(o){var t=this._readableState,e={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return o&&o!==t.pipes?this:(o||(o=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,o&&o.emit("unpipe",this,e),this);if(!o){var r=t.pipes,c=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var _=0;_<c;_++)r[_].emit("unpipe",this,{hasUnpiped:!1});return this}var R=q(t.pipes,o);return R===-1?this:(t.pipes.splice(R,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),o.emit("unpipe",this,e),this)},d.prototype.on=function(o,t){var e=tt.prototype.on.call(this,o,t),r=this._readableState;return o==="data"?(r.readableListening=0<this.listenerCount("readable"),r.flowing!==!1&&this.resume()):o=="readable"&&!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,M("on readable",r.length,r.reading),r.length?a(this):!r.reading&&w.nextTick(p,this)),e},d.prototype.addListener=d.prototype.on,d.prototype.removeListener=function(o,t){var e=tt.prototype.removeListener.call(this,o,t);return o==="readable"&&w.nextTick(A,this),e},d.prototype.removeAllListeners=function(o){var t=tt.prototype.removeAllListeners.apply(this,arguments);return(o==="readable"||o===void 0)&&w.nextTick(A,this),t},d.prototype.resume=function(){var o=this._readableState;return o.flowing||(M("resume"),o.flowing=!o.readableListening,y(this,o)),o.paused=!1,this},d.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},d.prototype.wrap=function(o){var t=this,e=this._readableState,r=!1;for(var c in o.on("end",function(){if(M("wrapped end"),e.decoder&&!e.ended){var R=e.decoder.end();R&&R.length&&t.push(R)}t.push(null)}),o.on("data",function(R){if(M("wrapped data"),e.decoder&&(R=e.decoder.write(R)),!(e.objectMode&&R==null)&&(e.objectMode||R&&R.length)){var P=t.push(R);P||(r=!0,o.pause())}}),o)this[c]===void 0&&typeof o[c]=="function"&&(this[c]=function(R){return function(){return o[R].apply(o,arguments)}}(c));for(var _=0;_<F.length;_++)o.on(F[_],this.emit.bind(this,F[_]));return this._read=function(R){M("wrapped _read",R),r&&(r=!1,o.resume())},this},typeof Symbol=="function"&&(d.prototype[Symbol.asyncIterator]=function(){return ft===void 0&&(ft=T("./internal/streams/async_iterator")),ft(this)}),Object.defineProperty(d.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(d.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(d.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(o){this._readableState&&(this._readableState.flowing=o)}}),d._fromList=B,Object.defineProperty(d.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(d.from=function(o,t){return dt===void 0&&(dt=T("./internal/streams/from")),dt(d,o,t)})}).call(this)}).call(this,T("_process"),typeof ht>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ht)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(T,D){function w(E,O){var i=this._transformState;i.transforming=!1;var a=i.writecb;if(a===null)return this.emit("error",new d);i.writechunk=null,i.writecb=null,O!=null&&this.push(O),a(E);var u=this._readableState;u.reading=!1,(u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}function h(E){return this instanceof h?(k.call(this,E),this._transformState={afterTransform:w.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,E&&(typeof E.transform=="function"&&(this._transform=E.transform),typeof E.flush=="function"&&(this._flush=E.flush)),void this.on("prefinish",S)):new h(E)}function S(){var E=this;typeof this._flush!="function"||this._readableState.destroyed?L(this,null,null):this._flush(function(O,i){L(E,O,i)})}function L(E,O,i){if(O)return E.emit("error",O);if(i!=null&&E.push(i),E._writableState.length)throw new g;if(E._transformState.transforming)throw new s;return E.push(null)}D.exports=h;var n=T("../errors").codes,l=n.ERR_METHOD_NOT_IMPLEMENTED,d=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,g=n.ERR_TRANSFORM_WITH_LENGTH_0,k=T("./_stream_duplex");T("inherits")(h,k),h.prototype.push=function(E,O){return this._transformState.needTransform=!1,k.prototype.push.call(this,E,O)},h.prototype._transform=function(E,O,i){i(new l("_transform()"))},h.prototype._write=function(E,O,i){var a=this._transformState;if(a.writecb=i,a.writechunk=E,a.writeencoding=O,!a.transforming){var u=this._readableState;(a.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}},h.prototype._read=function(){var E=this._transformState;E.writechunk===null||E.transforming?E.needTransform=!0:(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform))},h.prototype._destroy=function(E,O){k.prototype._destroy.call(this,E,function(i){O(i)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(T,D){(function(w,h){(function(){function S(v){var C=this;this.next=null,this.entry=null,this.finish=function(){U(C,v)}}function L(v){return M.from(v)}function n(v){return M.isBuffer(v)||v instanceof st}function l(){}function d(v,C,x){j=j||T("./_stream_duplex"),v=v||{},typeof x!="boolean"&&(x=C instanceof j),this.objectMode=!!v.objectMode,x&&(this.objectMode=this.objectMode||!!v.writableObjectMode),this.highWaterMark=J(this,v,"writableHighWaterMark",x),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var F=v.decodeStrings===!1;this.decodeStrings=!F,this.defaultEncoding=v.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){b(C,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=v.emitClose!==!1,this.autoDestroy=!!v.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new S(this)}function s(v){j=j||T("./_stream_duplex");var C=this instanceof j;return C||lt.call(s,this)?(this._writableState=new d(v,this,C),this.writable=!0,v&&(typeof v.write=="function"&&(this._write=v.write),typeof v.writev=="function"&&(this._writev=v.writev),typeof v.destroy=="function"&&(this._destroy=v.destroy),typeof v.final=="function"&&(this._final=v.final)),void V.call(this)):new s(v)}function g(v,C){var x=new St;ut(v,x),w.nextTick(C,x)}function k(v,C,x,F){var o;return x===null?o=new mt:typeof x!="string"&&!C.objectMode&&(o=new at("chunk",["string","Buffer"],x)),!o||(ut(v,o),w.nextTick(F,o),!1)}function E(v,C,x){return v.objectMode||v.decodeStrings===!1||typeof C!="string"||(C=M.from(C,x)),C}function O(v,C,x,F,o,t){if(!x){var e=E(C,F,o);F!==e&&(x=!0,o="buffer",F=e)}var r=C.objectMode?1:F.length;C.length+=r;var c=C.length<C.highWaterMark;if(c||(C.needDrain=!0),C.writing||C.corked){var _=C.lastBufferedRequest;C.lastBufferedRequest={chunk:F,encoding:o,isBuf:x,callback:t,next:null},_?_.next=C.lastBufferedRequest:C.bufferedRequest=C.lastBufferedRequest,C.bufferedRequestCount+=1}else i(v,C,!1,r,F,o,t);return c}function i(v,C,x,F,o,t,e){C.writelen=F,C.writecb=e,C.writing=!0,C.sync=!0,C.destroyed?C.onwrite(new bt("write")):x?v._writev(o,C.onwrite):v._write(o,t,C.onwrite),C.sync=!1}function a(v,C,x,F,o){--C.pendingcb,x?(w.nextTick(o,F),w.nextTick(I,v,C),v._writableState.errorEmitted=!0,ut(v,F)):(o(F),v._writableState.errorEmitted=!0,ut(v,F),I(v,C))}function u(v){v.writing=!1,v.writecb=null,v.length-=v.writelen,v.writelen=0}function b(v,C){var x=v._writableState,F=x.sync,o=x.writecb;if(typeof o!="function")throw new dt;if(u(x),C)a(v,x,F,C,o);else{var t=p(x)||v.destroyed;t||x.corked||x.bufferProcessing||!x.bufferedRequest||A(v,x),F?w.nextTick(f,v,x,t,o):f(v,x,t,o)}}function f(v,C,x,F){x||m(v,C),C.pendingcb--,F(),I(v,C)}function m(v,C){C.length===0&&C.needDrain&&(C.needDrain=!1,v.emit("drain"))}function A(v,C){C.bufferProcessing=!0;var x=C.bufferedRequest;if(v._writev&&x&&x.next){var F=C.bufferedRequestCount,o=Array(F),t=C.corkedRequestsFree;t.entry=x;for(var e=0,r=!0;x;)o[e]=x,x.isBuf||(r=!1),x=x.next,e+=1;o.allBuffers=r,i(v,C,!0,C.length,o,"",t.finish),C.pendingcb++,C.lastBufferedRequest=null,t.next?(C.corkedRequestsFree=t.next,t.next=null):C.corkedRequestsFree=new S(C),C.bufferedRequestCount=0}else{for(;x;){var c=x.chunk,_=x.encoding,R=x.callback,P=C.objectMode?1:c.length;if(i(v,C,!1,P,c,_,R),x=x.next,C.bufferedRequestCount--,C.writing)break}x===null&&(C.lastBufferedRequest=null)}C.bufferedRequest=x,C.bufferProcessing=!1}function p(v){return v.ending&&v.length===0&&v.bufferedRequest===null&&!v.finished&&!v.writing}function y(v,C){v._final(function(x){C.pendingcb--,x&&ut(v,x),C.prefinished=!0,v.emit("prefinish"),I(v,C)})}function N(v,C){C.prefinished||C.finalCalled||(typeof v._final!="function"||C.destroyed?(C.prefinished=!0,v.emit("prefinish")):(C.pendingcb++,C.finalCalled=!0,w.nextTick(y,v,C)))}function I(v,C){var x=p(C);if(x&&(N(v,C),C.pendingcb===0&&(C.finished=!0,v.emit("finish"),C.autoDestroy))){var F=v._readableState;(!F||F.autoDestroy&&F.endEmitted)&&v.destroy()}return x}function B(v,C,x){C.ending=!0,I(v,C),x&&(C.finished?w.nextTick(x):v.once("finish",x)),C.ended=!0,v.writable=!1}function U(v,C,x){var F=v.entry;for(v.entry=null;F;){var o=F.callback;C.pendingcb--,o(x),F=F.next}C.corkedRequestsFree.next=v}D.exports=s;var j;s.WritableState=d;var q={deprecate:T("util-deprecate")},V=T("./internal/streams/stream"),M=T("buffer").Buffer,st=h.Uint8Array||function(){},tt=T("./internal/streams/destroy"),nt=T("./internal/streams/state"),J=nt.getHighWaterMark,G=T("../errors").codes,at=G.ERR_INVALID_ARG_TYPE,ft=G.ERR_METHOD_NOT_IMPLEMENTED,dt=G.ERR_MULTIPLE_CALLBACK,Rt=G.ERR_STREAM_CANNOT_PIPE,bt=G.ERR_STREAM_DESTROYED,mt=G.ERR_STREAM_NULL_VALUES,St=G.ERR_STREAM_WRITE_AFTER_END,pt=G.ERR_UNKNOWN_ENCODING,ut=tt.errorOrDestroy;T("inherits")(s,V),d.prototype.getBuffer=function(){for(var v=this.bufferedRequest,C=[];v;)C.push(v),v=v.next;return C},function(){try{Object.defineProperty(d.prototype,"buffer",{get:q.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var lt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(lt=Function.prototype[Symbol.hasInstance],Object.defineProperty(s,Symbol.hasInstance,{value:function(v){return!!lt.call(this,v)||this===s&&v&&v._writableState instanceof d}})):lt=function(v){return v instanceof this},s.prototype.pipe=function(){ut(this,new Rt)},s.prototype.write=function(v,C,x){var F=this._writableState,o=!1,t=!F.objectMode&&n(v);return t&&!M.isBuffer(v)&&(v=L(v)),typeof C=="function"&&(x=C,C=null),t?C="buffer":!C&&(C=F.defaultEncoding),typeof x!="function"&&(x=l),F.ending?g(this,x):(t||k(this,F,v,x))&&(F.pendingcb++,o=O(this,F,t,v,C,x)),o},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var v=this._writableState;v.corked&&(v.corked--,!v.writing&&!v.corked&&!v.bufferProcessing&&v.bufferedRequest&&A(this,v))},s.prototype.setDefaultEncoding=function(v){if(typeof v=="string"&&(v=v.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())))throw new pt(v);return this._writableState.defaultEncoding=v,this},Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),s.prototype._write=function(v,C,x){x(new ft("_write()"))},s.prototype._writev=null,s.prototype.end=function(v,C,x){var F=this._writableState;return typeof v=="function"?(x=v,v=null,C=null):typeof C=="function"&&(x=C,C=null),v!=null&&this.write(v,C),F.corked&&(F.corked=1,this.uncork()),F.ending||B(this,F,x),this},Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(v){this._writableState&&(this._writableState.destroyed=v)}}),s.prototype.destroy=tt.destroy,s.prototype._undestroy=tt.undestroy,s.prototype._destroy=function(v,C){C(v)}}).call(this)}).call(this,T("_process"),typeof ht>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ht)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(T,D){(function(w){(function(){function h(m,A,p){return A in m?Object.defineProperty(m,A,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[A]=p,m}function S(m,A){return{value:m,done:A}}function L(m){var A=m[g];if(A!==null){var p=m[u].read();p!==null&&(m[i]=null,m[g]=null,m[k]=null,A(S(p,!1)))}}function n(m){w.nextTick(L,m)}function l(m,A){return function(p,y){m.then(function(){return A[O]?void p(S(void 0,!0)):void A[a](p,y)},y)}}var d,s=T("./end-of-stream"),g=Symbol("lastResolve"),k=Symbol("lastReject"),E=Symbol("error"),O=Symbol("ended"),i=Symbol("lastPromise"),a=Symbol("handlePromise"),u=Symbol("stream"),b=Object.getPrototypeOf(function(){}),f=Object.setPrototypeOf((d={get stream(){return this[u]},next:function(){var m=this,A=this[E];if(A!==null)return Promise.reject(A);if(this[O])return Promise.resolve(S(void 0,!0));if(this[u].destroyed)return new Promise(function(I,B){w.nextTick(function(){m[E]?B(m[E]):I(S(void 0,!0))})});var p,y=this[i];if(y)p=new Promise(l(y,this));else{var N=this[u].read();if(N!==null)return Promise.resolve(S(N,!1));p=new Promise(this[a])}return this[i]=p,p}},h(d,Symbol.asyncIterator,function(){return this}),h(d,"return",function(){var m=this;return new Promise(function(A,p){m[u].destroy(null,function(y){return y?void p(y):void A(S(void 0,!0))})})}),d),b);D.exports=function(m){var A,p=Object.create(f,(A={},h(A,u,{value:m,writable:!0}),h(A,g,{value:null,writable:!0}),h(A,k,{value:null,writable:!0}),h(A,E,{value:null,writable:!0}),h(A,O,{value:m._readableState.endEmitted,writable:!0}),h(A,a,{value:function(y,N){var I=p[u].read();I?(p[i]=null,p[g]=null,p[k]=null,y(S(I,!1))):(p[g]=y,p[k]=N)},writable:!0}),A));return p[i]=null,s(m,function(y){if(y&&y.code!=="ERR_STREAM_PREMATURE_CLOSE"){var N=p[k];return N!==null&&(p[i]=null,p[g]=null,p[k]=null,N(y)),void(p[E]=y)}var I=p[g];I!==null&&(p[i]=null,p[g]=null,p[k]=null,I(S(void 0,!0))),p[O]=!0}),m.on("readable",n.bind(null,p)),p}}).call(this)}).call(this,T("_process"))},{"./end-of-stream":24,_process:12}],22:[function(T,D){function w(i,a){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(i);a&&(b=b.filter(function(f){return Object.getOwnPropertyDescriptor(i,f).enumerable})),u.push.apply(u,b)}return u}function h(i){for(var a,u=1;u<arguments.length;u++)a=arguments[u]==null?{}:arguments[u],u%2?w(Object(a),!0).forEach(function(b){S(i,b,a[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach(function(b){Object.defineProperty(i,b,Object.getOwnPropertyDescriptor(a,b))});return i}function S(i,a,u){return a in i?Object.defineProperty(i,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[a]=u,i}function L(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function n(i,a){for(var u,b=0;b<a.length;b++)u=a[b],u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(i,u.key,u)}function l(i,a,u){return a&&n(i.prototype,a),u&&n(i,u),i}function d(i,a,u){g.prototype.copy.call(i,a,u)}var s=T("buffer"),g=s.Buffer,k=T("util"),E=k.inspect,O=E&&E.custom||"inspect";D.exports=function(){function i(){L(this,i),this.head=null,this.tail=null,this.length=0}return l(i,[{key:"push",value:function(a){var u={data:a,next:null};0<this.length?this.tail.next=u:this.head=u,this.tail=u,++this.length}},{key:"unshift",value:function(a){var u={data:a,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}},{key:"shift",value:function(){if(this.length!==0){var a=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,a}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(a){if(this.length===0)return"";for(var u=this.head,b=""+u.data;u=u.next;)b+=a+u.data;return b}},{key:"concat",value:function(a){if(this.length===0)return g.alloc(0);for(var u=g.allocUnsafe(a>>>0),b=this.head,f=0;b;)d(b.data,u,f),f+=b.data.length,b=b.next;return u}},{key:"consume",value:function(a,u){var b;return a<this.head.data.length?(b=this.head.data.slice(0,a),this.head.data=this.head.data.slice(a)):a===this.head.data.length?b=this.shift():b=u?this._getString(a):this._getBuffer(a),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(a){var u=this.head,b=1,f=u.data;for(a-=f.length;u=u.next;){var m=u.data,A=a>m.length?m.length:a;if(f+=A===m.length?m:m.slice(0,a),a-=A,a===0){A===m.length?(++b,this.head=u.next?u.next:this.tail=null):(this.head=u,u.data=m.slice(A));break}++b}return this.length-=b,f}},{key:"_getBuffer",value:function(a){var u=g.allocUnsafe(a),b=this.head,f=1;for(b.data.copy(u),a-=b.data.length;b=b.next;){var m=b.data,A=a>m.length?m.length:a;if(m.copy(u,u.length-a,0,A),a-=A,a===0){A===m.length?(++f,this.head=b.next?b.next:this.tail=null):(this.head=b,b.data=m.slice(A));break}++f}return this.length-=f,u}},{key:O,value:function(a,u){return E(this,h({},u,{depth:0,customInspect:!1}))}}]),i}()},{buffer:3,util:2}],23:[function(T,D){(function(w){(function(){function h(n,l){L(n,l),S(n)}function S(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function L(n,l){n.emit("error",l)}D.exports={destroy:function(n,l){var d=this,s=this._readableState&&this._readableState.destroyed,g=this._writableState&&this._writableState.destroyed;return s||g?(l?l(n):n&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,w.nextTick(L,this,n)):w.nextTick(L,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(k){!l&&k?d._writableState?d._writableState.errorEmitted?w.nextTick(S,d):(d._writableState.errorEmitted=!0,w.nextTick(h,d,k)):w.nextTick(h,d,k):l?(w.nextTick(S,d),l(k)):w.nextTick(S,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(n,l){var d=n._readableState,s=n._writableState;d&&d.autoDestroy||s&&s.autoDestroy?n.destroy(l):n.emit("error",l)}}}).call(this)}).call(this,T("_process"))},{_process:12}],24:[function(T,D){function w(l){var d=!1;return function(){if(!d){d=!0;for(var s=arguments.length,g=Array(s),k=0;k<s;k++)g[k]=arguments[k];l.apply(this,g)}}}function h(){}function S(l){return l.setHeader&&typeof l.abort=="function"}function L(l,d,s){if(typeof d=="function")return L(l,null,d);d||(d={}),s=w(s||h);var g=d.readable||d.readable!==!1&&l.readable,k=d.writable||d.writable!==!1&&l.writable,E=function(){l.writable||i()},O=l._writableState&&l._writableState.finished,i=function(){k=!1,O=!0,g||s.call(l)},a=l._readableState&&l._readableState.endEmitted,u=function(){g=!1,a=!0,k||s.call(l)},b=function(A){s.call(l,A)},f=function(){var A;return g&&!a?(l._readableState&&l._readableState.ended||(A=new n),s.call(l,A)):k&&!O?(l._writableState&&l._writableState.ended||(A=new n),s.call(l,A)):void 0},m=function(){l.req.on("finish",i)};return S(l)?(l.on("complete",i),l.on("abort",f),l.req?m():l.on("request",m)):k&&!l._writableState&&(l.on("end",E),l.on("close",E)),l.on("end",u),l.on("finish",i),d.error!==!1&&l.on("error",b),l.on("close",f),function(){l.removeListener("complete",i),l.removeListener("abort",f),l.removeListener("request",m),l.req&&l.req.removeListener("finish",i),l.removeListener("end",E),l.removeListener("close",E),l.removeListener("finish",i),l.removeListener("end",u),l.removeListener("error",b),l.removeListener("close",f)}}var n=T("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;D.exports=L},{"../../../errors":15}],25:[function(T,D){D.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(T,D){function w(O){var i=!1;return function(){i||(i=!0,O.apply(void 0,arguments))}}function h(O){if(O)throw O}function S(O){return O.setHeader&&typeof O.abort=="function"}function L(O,i,a,u){u=w(u);var b=!1;O.on("close",function(){b=!0}),s===void 0&&(s=T("./end-of-stream")),s(O,{readable:i,writable:a},function(m){return m?u(m):(b=!0,void u())});var f=!1;return function(m){if(!b)return f?void 0:(f=!0,S(O)?O.abort():typeof O.destroy=="function"?O.destroy():void u(m||new E("pipe")))}}function n(O){O()}function l(O,i){return O.pipe(i)}function d(O){return O.length&&typeof O[O.length-1]=="function"?O.pop():h}var s,g=T("../../../errors").codes,k=g.ERR_MISSING_ARGS,E=g.ERR_STREAM_DESTROYED;D.exports=function(){for(var O=arguments.length,i=Array(O),a=0;a<O;a++)i[a]=arguments[a];var u=d(i);if(Array.isArray(i[0])&&(i=i[0]),2>i.length)throw new k("streams");var b,f=i.map(function(m,A){var p=A<i.length-1;return L(m,p,0<A,function(y){b||(b=y),y&&f.forEach(n),p||(f.forEach(n),u(b))})});return i.reduce(l)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(T,D){function w(S,L,n){return S.highWaterMark==null?L?S[n]:null:S.highWaterMark}var h=T("../../../errors").codes.ERR_INVALID_OPT_VALUE;D.exports={getHighWaterMark:function(S,L,n,l){var d=w(L,l,n);if(d!=null){if(!(isFinite(d)&&Q(d)===d)||0>d){var s=l?n:"highWaterMark";throw new h(s,d)}return Q(d)}return S.objectMode?16:16384}}},{"../../../errors":15}],28:[function(T,D){D.exports=T("events").EventEmitter},{events:7}],29:[function(T,D,w){w=D.exports=T("./lib/_stream_readable.js"),w.Stream=w,w.Readable=w,w.Writable=T("./lib/_stream_writable.js"),w.Duplex=T("./lib/_stream_duplex.js"),w.Transform=T("./lib/_stream_transform.js"),w.PassThrough=T("./lib/_stream_passthrough.js"),w.finished=T("./lib/internal/streams/end-of-stream.js"),w.pipeline=T("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(T,D,w){function h(l,d){for(var s in l)d[s]=l[s]}function S(l,d,s){return n(l,d,s)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var L=T("buffer"),n=L.Buffer;n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?D.exports=L:(h(L,w),w.Buffer=S),S.prototype=Object.create(n.prototype),h(n,S),S.from=function(l,d,s){if(typeof l=="number")throw new TypeError("Argument must not be a number");return n(l,d,s)},S.alloc=function(l,d,s){if(typeof l!="number")throw new TypeError("Argument must be a number");var g=n(l);return d===void 0?g.fill(0):typeof s=="string"?g.fill(d,s):g.fill(d),g},S.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n(l)},S.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return L.SlowBuffer(l)}},{buffer:3}],31:[function(T,D,w){function h(f){if(!f)return"utf8";for(var m;;)switch(f){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return f;default:if(m)return;f=(""+f).toLowerCase(),m=!0}}function S(f){var m=h(f);if(typeof m!="string"&&(u.isEncoding===b||!b(f)))throw new Error("Unknown encoding: "+f);return m||f}function L(f){this.encoding=S(f);var m;switch(this.encoding){case"utf16le":this.text=g,this.end=k,m=4;break;case"utf8":this.fillLast=s,m=4;break;case"base64":this.text=E,this.end=O,m=3;break;default:return this.write=i,void(this.end=a)}this.lastNeed=0,this.lastTotal=0,this.lastChar=u.allocUnsafe(m)}function n(f){return 127>=f?0:f>>5==6?2:f>>4==14?3:f>>3==30?4:f>>6==2?-1:-2}function l(f,m,A){var p=m.length-1;if(p<A)return 0;var y=n(m[p]);return 0<=y?(0<y&&(f.lastNeed=y-1),y):--p<A||y===-2?0:(y=n(m[p]),0<=y?(0<y&&(f.lastNeed=y-2),y):--p<A||y===-2?0:(y=n(m[p]),0<=y?(0<y&&(y===2?y=0:f.lastNeed=y-3),y):0))}function d(f,m){if((192&m[0])!=128)return f.lastNeed=0,"";if(1<f.lastNeed&&1<m.length){if((192&m[1])!=128)return f.lastNeed=1,"";if(2<f.lastNeed&&2<m.length&&(192&m[2])!=128)return f.lastNeed=2,""}}function s(f){var m=this.lastTotal-this.lastNeed,A=d(this,f);return A===void 0?this.lastNeed<=f.length?(f.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(f.copy(this.lastChar,m,0,f.length),void(this.lastNeed-=f.length)):A}function g(f,m){if((f.length-m)%2==0){var A=f.toString("utf16le",m);if(A){var p=A.charCodeAt(A.length-1);if(55296<=p&&56319>=p)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=f[f.length-1],f.toString("utf16le",m,f.length-1)}function k(f){var m=f&&f.length?this.write(f):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,A)}return m}function E(f,m){var A=(f.length-m)%3;return A==0?f.toString("base64",m):(this.lastNeed=3-A,this.lastTotal=3,A==1?this.lastChar[0]=f[f.length-1]:(this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1]),f.toString("base64",m,f.length-A))}function O(f){var m=f&&f.length?this.write(f):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function i(f){return f.toString(this.encoding)}function a(f){return f&&f.length?this.write(f):""}var u=T("safe-buffer").Buffer,b=u.isEncoding||function(f){switch(f=""+f,f&&f.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};w.StringDecoder=L,L.prototype.write=function(f){if(f.length===0)return"";var m,A;if(this.lastNeed){if(m=this.fillLast(f),m===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<f.length?m?m+this.text(f,A):this.text(f,A):m||""},L.prototype.end=function(f){var m=f&&f.length?this.write(f):"";return this.lastNeed?m+"":m},L.prototype.text=function(f,m){var A=l(this,f,m);if(!this.lastNeed)return f.toString("utf8",m);this.lastTotal=A;var p=f.length-(A-this.lastNeed);return f.copy(this.lastChar,0,p),f.toString("utf8",m,p)},L.prototype.fillLast=function(f){return this.lastNeed<=f.length?(f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,f.length),void(this.lastNeed-=f.length))}},{"safe-buffer":30}],32:[function(T,D){(function(w){(function(){function h(S){try{if(!w.localStorage)return!1}catch{return!1}var L=w.localStorage[S];return L!=null&&(L+"").toLowerCase()==="true"}D.exports=function(S,L){function n(){if(!l){if(h("throwDeprecation"))throw new Error(L);h("traceDeprecation")?console.trace(L):console.warn(L),l=!0}return S.apply(this,arguments)}if(h("noDeprecation"))return S;var l=!1;return n}}).call(this)}).call(this,typeof ht>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:ht)},{}],"/":[function(T,D){function w(O){return O.replace(/a=ice-options:trickle\s\n/g,"")}function h(O){console.warn(O)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const S=T("debug")("simple-peer"),L=T("get-browser-rtc"),n=T("randombytes"),l=T("readable-stream"),d=T("queue-microtask"),s=T("err-code"),{Buffer:g}=T("buffer"),k=65536;class E extends l.Duplex{constructor(i){if(i=Object.assign({allowHalfOpen:!1},i),super(i),this._id=n(4).toString("hex").slice(0,7),this._debug("new peer %o",i),this.channelName=i.initiator?i.channelName||n(20).toString("hex"):null,this.initiator=i.initiator||!1,this.channelConfig=i.channelConfig||E.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},E.config,i.config),this.offerOptions=i.offerOptions||{},this.answerOptions=i.answerOptions||{},this.sdpTransform=i.sdpTransform||(a=>a),this.streams=i.streams||(i.stream?[i.stream]:[]),this.trickle=i.trickle===void 0||i.trickle,this.allowHalfTrickle=i.allowHalfTrickle!==void 0&&i.allowHalfTrickle,this.iceCompleteTimeout=i.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=i.wrtc&&typeof i.wrtc=="object"?i.wrtc:L(),!this._wrtc)throw s(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(a){return void this.destroy(s(a,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=a=>{this._onIceCandidate(a)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(a=>{this.destroy(s(a,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=a=>{this._setupData(a)},this.streams&&this.streams.forEach(a=>{this.addStream(a)}),this._pc.ontrack=a=>{this._onTrack(a)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(i){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof i=="string")try{i=JSON.parse(i)}catch{i={}}this._debug("signal()"),i.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),i.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(i.transceiverRequest.kind,i.transceiverRequest.init)),i.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(i.candidate):this._pendingCandidates.push(i.candidate)),i.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(i)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(a=>{this._addIceCandidate(a)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(a=>{this.destroy(s(a,"ERR_SET_REMOTE_DESCRIPTION"))}),i.sdp||i.candidate||i.renegotiate||i.transceiverRequest||this.destroy(s(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(i){const a=new this._wrtc.RTCIceCandidate(i);this._pc.addIceCandidate(a).catch(u=>{!a.address||a.address.endsWith(".local")?h("Ignoring unsupported ICE candidate."):this.destroy(s(u,"ERR_ADD_ICE_CANDIDATE"))})}send(i){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(i)}}addTransceiver(i,a){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(i,a),this._needsNegotiation()}catch(u){this.destroy(s(u,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:i,init:a}})}}addStream(i){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),i.getTracks().forEach(a=>{this.addTrack(a,i)})}}addTrack(i,a){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const u=this._senderMap.get(i)||new Map;let b=u.get(a);if(!b)b=this._pc.addTrack(i,a),u.set(a,b),this._senderMap.set(i,u),this._needsNegotiation();else throw b.removed?s(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):s(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(i,a,u){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const b=this._senderMap.get(i),f=b?b.get(u):null;if(!f)throw s(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");a&&this._senderMap.set(a,b),f.replaceTrack==null?this.destroy(s(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):f.replaceTrack(a)}removeTrack(i,a){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const u=this._senderMap.get(i),b=u?u.get(a):null;if(!b)throw s(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{b.removed=!0,this._pc.removeTrack(b)}catch(f){f.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(b):this.destroy(s(f,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(i){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),i.getTracks().forEach(a=>{this.removeTrack(a,i)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,d(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(i){this._destroy(i,()=>{})}_destroy(i,a){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",i&&(i.message||i)),d(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",i&&(i.message||i)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,i&&this.emit("error",i),this.emit("close"),a()}))}_setupData(i){if(!i.channel)return this.destroy(s(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=i.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=k),this.channelName=this._channel.label,this._channel.onmessage=u=>{this._onChannelMessage(u)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=u=>{const b=u.error instanceof Error?u.error:new Error(`Datachannel error: ${u.message} ${u.filename}:${u.lineno}:${u.colno}`);this.destroy(s(b,"ERR_DATA_CHANNEL"))};let a=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(a&&this._onChannelClose(),a=!0):a=!1},5e3)}_read(){}_write(i,a,u){if(this.destroyed)return u(s(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(i)}catch(b){return this.destroy(s(b,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>k?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=u):u(null)}else this._debug("write before connect"),this._chunk=i,this._cb=u}_onFinish(){if(!this.destroyed){const i=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?i():this.once("connect",i)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(i=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(i.sdp=w(i.sdp)),i.sdp=this.sdpTransform(i.sdp);const a=()=>{if(!this.destroyed){const u=this._pc.localDescription||i;this._debug("signal"),this.emit("signal",{type:u.type,sdp:u.sdp})}};this._pc.setLocalDescription(i).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?a():this.once("_iceComplete",a))}).catch(u=>{this.destroy(s(u,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(i=>{this.destroy(s(i,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(i=>{i.mid||!i.sender.track||i.requested||(i.requested=!0,this.addTransceiver(i.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(i=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(i.sdp=w(i.sdp)),i.sdp=this.sdpTransform(i.sdp);const a=()=>{if(!this.destroyed){const u=this._pc.localDescription||i;this._debug("signal"),this.emit("signal",{type:u.type,sdp:u.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(i).then(()=>{this.destroyed||(this.trickle||this._iceComplete?a():this.once("_iceComplete",a))}).catch(u=>{this.destroy(s(u,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(i=>{this.destroy(s(i,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(s(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const i=this._pc.iceConnectionState,a=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",i,a),this.emit("iceStateChange",i,a),(i==="connected"||i==="completed")&&(this._pcReady=!0,this._maybeReady()),i==="failed"&&this.destroy(s(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),i==="closed"&&this.destroy(s(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(i){const a=u=>(Object.prototype.toString.call(u.values)==="[object Array]"&&u.values.forEach(b=>{Object.assign(u,b)}),u);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(u=>{const b=[];u.forEach(f=>{b.push(a(f))}),i(null,b)},u=>i(u)):0<this._pc.getStats.length?this._pc.getStats(u=>{if(this.destroyed)return;const b=[];u.result().forEach(f=>{const m={};f.names().forEach(A=>{m[A]=f.stat(A)}),m.id=f.id,m.type=f.type,m.timestamp=f.timestamp,b.push(a(m))}),i(null,b)},u=>i(u)):i(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const i=()=>{this.destroyed||this.getStats((a,u)=>{if(this.destroyed)return;a&&(u=[]);const b={},f={},m={};let A=!1;u.forEach(y=>{(y.type==="remotecandidate"||y.type==="remote-candidate")&&(b[y.id]=y),(y.type==="localcandidate"||y.type==="local-candidate")&&(f[y.id]=y),(y.type==="candidatepair"||y.type==="candidate-pair")&&(m[y.id]=y)});const p=y=>{A=!0;let N=f[y.localCandidateId];N&&(N.ip||N.address)?(this.localAddress=N.ip||N.address,this.localPort=+N.port):N&&N.ipAddress?(this.localAddress=N.ipAddress,this.localPort=+N.portNumber):typeof y.googLocalAddress=="string"&&(N=y.googLocalAddress.split(":"),this.localAddress=N[0],this.localPort=+N[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let I=b[y.remoteCandidateId];I&&(I.ip||I.address)?(this.remoteAddress=I.ip||I.address,this.remotePort=+I.port):I&&I.ipAddress?(this.remoteAddress=I.ipAddress,this.remotePort=+I.portNumber):typeof y.googRemoteAddress=="string"&&(I=y.googRemoteAddress.split(":"),this.remoteAddress=I[0],this.remotePort=+I[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(u.forEach(y=>{y.type==="transport"&&y.selectedCandidatePairId&&p(m[y.selectedCandidatePairId]),(y.type==="googCandidatePair"&&y.googActiveConnection==="true"||(y.type==="candidatepair"||y.type==="candidate-pair")&&y.selected)&&p(y)}),!A&&(!Object.keys(m).length||Object.keys(f).length))return void setTimeout(i,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(N){return this.destroy(s(N,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const y=this._cb;this._cb=null,y(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};i()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>k)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(i=>{this._pc.removeTrack(i),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(i){this.destroyed||(i.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:i.candidate.candidate,sdpMLineIndex:i.candidate.sdpMLineIndex,sdpMid:i.candidate.sdpMid}}):!i.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),i.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(i){if(this.destroyed)return;let a=i.data;a instanceof ArrayBuffer&&(a=g.from(a)),this.push(a)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const i=this._cb;this._cb=null,i(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(i){this.destroyed||i.streams.forEach(a=>{this._debug("on track"),this.emit("track",i.track,a),this._remoteTracks.push({track:i.track,stream:a}),this._remoteStreams.some(u=>u.id===a.id)||(this._remoteStreams.push(a),d(()=>{this._debug("on stream"),this.emit("stream",a)}))})}_debug(){const i=[].slice.call(arguments);i[0]="["+this._id+"] "+i[0],S.apply(null,i)}}E.WEBRTC_SUPPORT=!!L(),E.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},E.channelConfig={},D.exports=E},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})})(Bt);var $t=Bt.exports;const Jt=Kt($t);function Pt(K,$,Q){const et=K.slice();return et[8]=$[Q],et}function Ft(K){let $,Q=K[8]+"",et;return{c(){$=it("li"),et=Ot(Q)},l(z){$=ot(z,"LI",{});var T=_t($);et=Lt(T,Q),T.forEach(ct)},m(z,T){jt(z,$,T),Z($,et)},p:Nt,d(z){z&&ct($)}}}function Xt(K){let $,Q,et,z=K[2]?"true":"false",T,D,w,h="signal",S,L,n,l,d,s,g="Incomping",k,E,O,i,a,u,b="Submit",f,m,A,p="data",y,N,I,B,U=Mt(K[3]),j=[];for(let q=0;q<U.length;q+=1)j[q]=Ft(Pt(K,U,q));return{c(){$=it("div"),Q=it("p"),et=Ot("initiator: "),T=Ot(z),D=gt(),w=it("h4"),w.textContent=h,S=gt(),L=it("pre"),n=Ot(K[1]),l=gt(),d=it("div"),s=it("h4"),s.textContent=g,k=gt(),E=it("textarea"),O=gt(),i=it("br"),a=gt(),u=it("button"),u.textContent=b,f=gt(),m=it("div"),A=it("h3"),A.textContent=p,y=gt(),N=it("ul");for(let q=0;q<j.length;q+=1)j[q].c();this.h()},l(q){$=ot(q,"DIV",{});var V=_t($);Q=ot(V,"P",{});var M=_t(Q);et=Lt(M,"initiator: "),T=Lt(M,z),M.forEach(ct),D=yt(V),w=ot(V,"H4",{"data-svelte-h":!0}),At(w)!=="svelte-pgf2ie"&&(w.textContent=h),S=yt(V),L=ot(V,"PRE",{});var st=_t(L);n=Lt(st,K[1]),st.forEach(ct),l=yt(V),d=ot(V,"DIV",{});var tt=_t(d);s=ot(tt,"H4",{"data-svelte-h":!0}),At(s)!=="svelte-bhljpq"&&(s.textContent=g),k=yt(tt),E=ot(tt,"TEXTAREA",{id:!0,class:!0}),_t(E).forEach(ct),O=yt(tt),i=ot(tt,"BR",{}),a=yt(tt),u=ot(tt,"BUTTON",{"data-svelte-h":!0}),At(u)!=="svelte-13dqhnl"&&(u.textContent=b),tt.forEach(ct),f=yt(V),m=ot(V,"DIV",{});var nt=_t(m);A=ot(nt,"H3",{"data-svelte-h":!0}),At(A)!=="svelte-1fkupqc"&&(A.textContent=p),y=yt(nt),N=ot(nt,"UL",{});var J=_t(N);for(let G=0;G<j.length;G+=1)j[G].l(J);J.forEach(ct),nt.forEach(ct),V.forEach(ct),this.h()},h(){xt(E,"id","incoming"),xt(E,"class","svelte-17de7ug")},m(q,V){jt(q,$,V),Z($,Q),Z(Q,et),Z(Q,T),Z($,D),Z($,w),Z($,S),Z($,L),Z(L,n),Z($,l),Z($,d),Z(d,s),Z(d,k),Z(d,E),It(E,K[0]),Z(d,O),Z(d,i),Z(d,a),Z(d,u),Z($,f),Z($,m),Z(m,A),Z(m,y),Z(m,N);for(let M=0;M<j.length;M+=1)j[M]&&j[M].m(N,null);I||(B=[Dt(E,"input",K[5]),Dt(u,"click",K[6])],I=!0)},p(q,[V]){if(V&2&&Yt(n,q[1]),V&1&&It(E,q[0]),V&8){U=Mt(q[3]);let M;for(M=0;M<U.length;M+=1){const st=Pt(q,U,M);j[M]?j[M].p(st,V):(j[M]=Ft(st),j[M].c(),j[M].m(N,null))}for(;M<j.length;M+=1)j[M].d(1);j.length=U.length}},i:Nt,o:Nt,d(q){q&&ct($),Vt(j,q),I=!1,qt(B)}}}function Zt(K,$,Q){let et=location.hash==="#1";const z=new Jt({initiator:et,trickle:!1});let T="",D="",w=[];z.on("error",n=>console.log("error",n)),z.on("signal",n=>{console.log("SIGNAL",JSON.stringify(n)),Q(1,D=JSON.stringify(n))});function h(){console.log("SUBMIT!: ",JSON.parse(T)),z.signal(JSON.parse(T))}z.on("connect",()=>{console.log("CONNECT"),z.send("whatever"+new Date().toISOString)}),z.on("data",n=>{console.log("CONNECT"),n.push(n)});function S(){T=this.value,Q(0,T)}return[T,D,et,w,h,S,()=>h()]}class re extends Wt{constructor($){super(),Ht(this,$,Zt,Xt,Ut,{})}}export{re as component,ee as universal};
